<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.asosiaciondeasis.animalesdeasis.Controller.Animal.AnimalManagementController"
      stylesheets="@/css/Animal/AnimalManagement.css"
      spacing="20" alignment="TOP_CENTER" styleClass="animal-management-container">

            <HBox spacing="20" alignment="CENTER_LEFT" styleClass="toolbar">
                 <Label text="Gestión de Animales" styleClass="section-title"/>
                 <Button fx:id="CreateAnimal" text="➕ Agregar Animal" onAction="#handleCreateAnimal" styleClass="create-button"/>
            </HBox>

    <!-- Sección de Filtros -->
    <VBox spacing="15" styleClass="filter-container">
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="🔍 Filtros:" styleClass="filter-label"/>
            <Button fx:id="toggleFiltersBtn" text="Mostrar Filtros" onAction="#handleToggleFilters" styleClass="toggle-filters-btn"/>
        </HBox>

        <HBox fx:id="filtersBox" spacing="20" alignment="TOP_LEFT" styleClass="filters-box" visible="false" managed="false">
            <!-- Primera columna de filtros -->
            <VBox spacing="15" styleClass="filter-column">
                <!-- Filtro por Especie -->
                <VBox spacing="5">
                    <Label text="Especie:" styleClass="filter-input-label"/>
                    <ComboBox fx:id="speciesFilter" promptText="Todas las especies" styleClass="filter-combo"/>
                </VBox>

                <!-- Filtro por Estado de Adopción -->
                <VBox spacing="5">
                    <Label text="Mostrar animales inactivos:" styleClass="filter-input-label"/>
                    <CheckBox fx:id="inactiveFilter" text="Fuera del albergue" styleClass="filter-checkbox"/>
                </VBox>
            </VBox>

            <!-- Segunda columna de filtros -->
            <VBox spacing="15" styleClass="filter-column">
                <!-- Filtro por Fechas -->
                <VBox spacing="5">
                    <Label text="Rango de fechas:" styleClass="filter-input-label"/>
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <VBox spacing="3">
                            <Label text="Desde:" styleClass="filter-sublabel"/>
                            <DatePicker fx:id="startDateFilter" promptText="Fecha inicio" styleClass="filter-date"/>
                        </VBox>
                        <VBox spacing="3">
                            <Label text="Hasta:" styleClass="filter-sublabel"/>
                            <DatePicker fx:id="endDateFilter" promptText="Fecha fin" styleClass="filter-date"/>
                        </VBox>
                    </HBox>
                </VBox>

                <!-- Botones de Filtro -->
                <VBox spacing="5">
                    <Label text="Acciones:" styleClass="filter-input-label"/>
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Button fx:id="applyFiltersBtn" text="Aplicar" onAction="#handleApplyFilters" styleClass="apply-filters-btn"/>
                        <Button fx:id="clearFiltersBtn" text="Limpiar" onAction="#handleClearFilters" styleClass="clear-filters-btn"/>
                    </HBox>
                </VBox>
            </VBox>
        </HBox>
    </VBox>


    <Label fx:id="resultsCountLabel" text="Total: 0 animales" styleClass="results-count"/>
    <TableView fx:id="animalTable" prefHeight="500" styleClass="animal-table">
        <columns>
            <TableColumn fx:id="nameColumn" text="Nombre" prefWidth="150"/>
            <TableColumn fx:id="speciesColumn" text="Especie" prefWidth="120"/>
            <TableColumn fx:id="idAdmissionDate" text="Fecha de Ingreso" prefWidth="150"/>
            <TableColumn fx:id="sexColumn" text="Sexo"/>
            <TableColumn fx:id="adoptedColumn" text="Adoptado" prefWidth="100"/>
            <TableColumn fx:id="actionsColumn" text="Acciones" prefWidth="350"/>
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
        </columnResizePolicy>
    </TableView>

            <Pagination fx:id="pagination" pageCount="1" styleClass="pagination"/>
</VBox>
